# PRD: AI 기반 연말정산 계산기

**버전:** 1.0  
**작성일:** 2025-01-19  
**작성자:** Product Team  
**상태:** Draft

---

## 1. 제품 개요

### 1.1 프로젝트 목표
한국 근로자를 위한 AI 기반 실시간 연말정산 계산 및 최적화 플랫폼 개발

### 1.2 핵심 가치 제안
- **실시간 AI 분석**: 입력 데이터 기반 절세 전략 자동 제안
- **세법 변경 자동 감지**: 2026년 연말정산 변경사항 실시간 모니터링
- **자동화된 데이터 관리**: 관리자 페이지에서 엑셀/사진 업로드로 자동 반영
- **초보자 친화적**: 모든 항목에 상세 설명 제공
- **모던 디자인**: 네오브루탈리즘 디자인 적용

### 1.3 타겟 사용자
- **Primary**: 연말정산 지식이 부족한 2030 근로자
- **Secondary**: 절세 최적화를 원하는 전 연령대 근로자
- **Admin**: 개인의 재무 데이터를 관리하는 사용자 본인

---

## 2. 기능 요구사항

### 2.1 핵심 기능

#### F1. 실시간 AI 분석 및 알림
**우선순위:** HIGH  
**설명:** 사용자 입력 데이터를 실시간 분석하여 절세 팁 제공

**기능 상세:**
- 입력된 데이터 기반 AI 분석 (GPT-4 API 활용)
- 놓친 공제 항목 자동 감지
- 예상 환급액 증가 가능성 알림
- 최적 입력값 제안 (예: "300만원 더 입력 시 XX만원 절세")
- 알림 우선순위: 🔴 High(5만원↑) / 🟡 Medium(1~5만원) / 🟢 Low(안내)

**사용자 스토리:**
```
AS A 연말정산 초보자
I WANT TO 내가 놓친 공제 항목을 자동으로 알림받고 싶다
SO THAT 최대한 환급을 받을 수 있다
```

**수용 기준:**
- [ ] 데이터 입력 후 3초 이내 분석 결과 표시
- [ ] 절세 팁은 최소 3개 이상 제공
- [ ] 금액 기준 우선순위 정렬
- [ ] 모바일에서도 알림 팝업 정상 작동

---

#### F2. 2026년 연말정산 변경사항 실시간 모니터링
**우선순위:** HIGH  
**설명:** 국세청 및 관련 웹사이트 크롤링하여 세법 변경 감지

**기능 상세:**
- 국세청, 기획재정부 공지사항 크롤링 (일 1회)
- 키워드 기반 변경사항 감지 ("연말정산", "세액공제", "소득공제")
- AI 요약: 변경 내용의 핵심을 3줄 이내로 요약
- 대시보드 상단에 🔔 배너 표시
- 이메일/푸시 알림 옵션 제공

**사용자 스토리:**
```
AS A 바쁜 직장인
I WANT TO 세법 변경사항을 자동으로 알림받고 싶다
SO THAT 매년 세법을 일일이 확인하지 않아도 된다
```

**수용 기준:**
- [ ] 변경사항 감지 후 1시간 이내 알림
- [ ] 변경사항이 계산에 미치는 영향 금액 표시
- [ ] 이전 계산 결과와 비교 기능

---

#### F3. 관리자 페이지 - 실시간 데이터 동기화
**우선순위:** HIGH  
**설명:** Admin 페이지에서 급여/지출 데이터 입력 시 계산기에 자동 반영

**기능 상세:**

**3.1 입력 방법**
- ✏️ 텍스트 직접 입력
- 📊 엑셀 파일 업로드 (.xlsx, .csv)
- 📸 영수증/급여명세서 사진 업로드 (OCR)
- 🔗 카드사 API 연동 (선택)

**3.2 관리 항목**
| 카테고리 | 세부 항목 | 입력 주기 |
|---------|---------|---------|
| **급여** | 월급여, 상여금, 비과세소득, 원천징수세액 | 월 1회 |
| **카드사용** | 신용카드, 체크카드, 현금영수증 | 실시간/월 1회 |
| **보험** | 건강보험, 고용보험, 국민연금, 보장성보험 | 분기 1회 |
| **연금저축** | 연금저축, 퇴직연금(IRP), ISA | 입금 시 |
| **대중교통** | 교통카드 사용액 | 월 1회 |
| **전통시장** | 전통시장 사용액 | 월 1회 |
| **문화체육** | 도서, 공연, 박물관, 영화 | 건별 |
| **교육비** | 본인, 자녀 교육비 | 학기별 |
| **기부금** | 정치자금, 고향사랑, 일반기부 | 건별 |
| **주택** | 월세, 주택임차차입금, 장기주택저당 | 월 1회 |

**3.3 데이터 처리**
- WebSocket을 통한 실시간 동기화
- 입력 즉시 계산기에 반영 (지연 < 1초)
- 변경 이력 자동 저장 (최대 1년)
- 데이터 백업 (일 1회)

**사용자 스토리:**
```
AS A 데이터 관리자
I WANT TO 급여명세서를 사진으로 찍어 올리면 자동으로 입력되길 원한다
SO THAT 일일이 타이핑하지 않아도 된다
```

**수용 기준:**
- [ ] OCR 정확도 95% 이상
- [ ] 엑셀 업로드 후 3초 이내 파싱 완료
- [ ] 실시간 동기화 지연 1초 이하
- [ ] 모바일에서 사진 업로드 가능

---

#### F4. 항목별 상세 설명 (마우스 오버)
**우선순위:** MEDIUM  
**설명:** 모든 입력 항목에 툴팁으로 설명 표시

**기능 상세:**
- 🖱️ 마우스 오버 시 툴팁 표시 (0.3초 딜레이)
- 📱 모바일: 항목명 탭 시 모달 표시
- 설명 내용:
  - 📝 항목 정의
  - 💡 예시
  - ⚠️ 주의사항
  - 📊 평균값 참고
  - 🔗 관련 법령

**사용자 스토리:**
```
AS A 연말정산 초보자
I WANT TO "부양가족공제"가 무엇인지 바로 확인하고 싶다
SO THAT 별도로 검색하지 않아도 된다
```

**수용 기준:**
- [ ] 전체 49개 입력 항목에 설명 적용
- [ ] 설명 텍스트 200자 이내
- [ ] 모바일 모달 닫기 버튼 명확
- [ ] 다국어 지원 (한국어 우선)

---

### 2.2 UI/UX 요구사항

#### D1. 메인 화면 (2-Tab 구조)

**Tab 1: 대시보드**
```
┌─────────────────────────────────────────┐
│ 🏠 AI 연말정산 계산기                     │
├─────────────────────────────────────────┤
│ [대시보드] [계산기]                        │
├─────────────────────────────────────────┤
│                                         │
│  📊 2026년 예상 결과                     │
│  ┌─────────────────────────────────┐   │
│  │  환급 예상액                      │   │
│  │  956,610원                       │   │
│  │  ▲ 지난해 대비 +12.3%            │   │
│  └─────────────────────────────────┘   │
│                                         │
│  🤖 AI 실시간 분석                       │
│  ┌─────────────────────────────────┐   │
│  │ 🔴 신용카드를 30만원 더 사용하면     │   │
│  │    15만원 추가 절세 가능           │   │
│  │                                  │   │
│  │ 🟡 퇴직연금 300만원 납입 시         │   │
│  │    45만원 세액공제 받을 수 있음     │   │
│  │                                  │   │
│  │ 🟢 기부금 10만원으로 9만원 공제     │   │
│  └─────────────────────────────────┘   │
│                                         │
│  🔔 2026년 변경사항                      │
│  ┌─────────────────────────────────┐   │
│  │ 📌 결혼세액공제 신설 (50만원)        │   │
│  │ 📌 주택마련저축 한도 상향 (300만)    │   │
│  │ 📌 ISA 연금계좌 세액공제 추가        │   │
│  └─────────────────────────────────┘   │
│                                         │
└─────────────────────────────────────────┘
```

**Tab 2: 연말정산 계산기**
- 기존 분석한 한국납세자연맹 구조 재현
- 8개 섹션 Accordion 방식
- 자동계산 버튼 → AI 제안 버튼으로 교체
- 실시간 계산 결과 우측 고정 패널

---

#### D2. 관리자(Admin) 페이지

**레이아웃:**
```
┌─────────────────────────────────────────┐
│ ⚙️ 관리자 페이지                          │
├─────────────────────────────────────────┤
│ [2025년] [2024년] [2023년]               │
├─────────────────────────────────────────┤
│                                         │
│  📅 2025년 1월                           │
│  ┌─────────────────────────────────┐   │
│  │ 💰 급여                           │   │
│  │ ─────────────────────────────   │   │
│  │ 총급여    [5,682,278원]          │   │
│  │ 비과세    [100,000원]            │   │
│  │ 국민연금  [225,852원]            │   │
│  │                                  │   │
│  │ [📊 엑셀 업로드] [📸 사진 업로드]  │   │
│  └─────────────────────────────────┘   │
│                                         │
│  💳 카드사용 (1월)                       │
│  ┌─────────────────────────────────┐   │
│  │ 신용카드   [1,234,567원]         │   │
│  │ 체크카드   [456,789원]           │   │
│  │ 전통시장   [50,000원]            │   │
│  │ 대중교통   [80,000원]            │   │
│  │                                  │   │
│  │ [🔗 카드사 연동] [+ 수동 추가]    │   │
│  └─────────────────────────────────┘   │
│                                         │
│  [저장] [초기화]                         │
│                                         │
└─────────────────────────────────────────┘
```

**입력 방식:**
1. **텍스트 입력**: 각 항목 직접 입력
2. **엑셀 업로드**: 템플릿 다운로드 → 작성 → 업로드
3. **사진 업로드**: 
   - 급여명세서, 영수증 촬영
   - Google Vision API OCR 처리
   - 인식 결과 확인/수정 후 저장
4. **카드사 API**: 
   - 카드사 인증 (OAuth)
   - 월별 사용 내역 자동 수집

---

#### D3. 네오브루탈리즘 디자인 시스템

**3.1 컬러 팔레트**
```css
--primary: #000000;        /* 블랙 */
--secondary: #FFFFFF;      /* 화이트 */
--accent-1: #FF6B35;       /* 코랄 오렌지 */
--accent-2: #F7CB15;       /* 브라이트 옐로우 */
--accent-3: #00D9FF;       /* 네온 시안 */
--border: #000000;         /* 블랙 보더 */
--shadow: 4px 4px 0px #000000; /* 하드 쉐도우 */
```

**3.2 타이포그래피**
```css
/* 헤딩 */
--h1: 48px / 120% / 900 weight / -0.02em;
--h2: 36px / 120% / 800 weight / -0.01em;
--h3: 24px / 130% / 700 weight / 0em;
--h4: 20px / 140% / 700 weight / 0em;

/* 바디 */
--body-lg: 18px / 160% / 400 weight;
--body-md: 16px / 160% / 400 weight;
--body-sm: 14px / 150% / 400 weight;

/* 폰트 패밀리 */
font-family: 'Pretendard Variable', 'Inter', -apple-system, sans-serif;
```

**3.3 컴포넌트 스타일**

**버튼**
```css
.btn-primary {
  background: var(--accent-1);
  color: var(--primary);
  border: 3px solid var(--primary);
  box-shadow: var(--shadow);
  padding: 16px 32px;
  font-weight: 700;
  cursor: pointer;
  transition: transform 0.1s;
}

.btn-primary:hover {
  transform: translate(2px, 2px);
  box-shadow: 2px 2px 0px var(--primary);
}

.btn-primary:active {
  transform: translate(4px, 4px);
  box-shadow: none;
}
```

**카드**
```css
.card {
  background: var(--secondary);
  border: 3px solid var(--primary);
  box-shadow: 8px 8px 0px var(--primary);
  padding: 24px;
}
```

**입력 필드**
```css
.input {
  border: 3px solid var(--primary);
  padding: 12px 16px;
  font-size: 16px;
  font-weight: 600;
  background: var(--secondary);
}

.input:focus {
  outline: none;
  box-shadow: 0 0 0 4px var(--accent-3);
}
```

---

#### D4. 그리드 시스템

**4.1 레이아웃 그리드**
```
데스크톱 (1440px+):  12 컬럼, 24px 거터, 120px 마진
태블릿 (768-1439px): 8 컬럼, 20px 거터, 40px 마진
모바일 (320-767px):  4 컬럼, 16px 거터, 16px 마진
```

**4.2 베이스라인 그리드**
```
8px 베이스라인 그리드 적용
모든 요소는 8의 배수로 정렬:
- 패딩: 8px, 16px, 24px, 32px
- 마진: 8px, 16px, 24px, 32px, 48px, 64px
- 높이: 40px, 48px, 56px, 64px
```

**4.3 컴포넌트 간격 규칙**
```
섹션 간 간격:     64px
카드 간 간격:     32px
입력 필드 간 간격: 16px
인라인 요소 간격:  8px
```

---

#### D5. 모바일 반응형 최적화

**5.1 브레이크포인트**
```scss
$breakpoint-mobile: 320px;
$breakpoint-tablet: 768px;
$breakpoint-desktop: 1440px;
$breakpoint-wide: 1920px;
```

**5.2 모바일 최적화 전략**
- Tab Navigation → Bottom Navigation
- 입력 필드: 최소 48px 터치 영역
- 폰트 크기: 최소 16px (줌 방지)
- 툴팁 → 모달로 변환
- 가로 스크롤 제거
- 이미지 지연 로딩

**5.3 성능 목표**
```
Lighthouse 점수:
- Performance: 90+
- Accessibility: 95+
- Best Practices: 95+
- SEO: 100

Core Web Vitals:
- LCP (Largest Contentful Paint): < 2.5s
- FID (First Input Delay): < 100ms
- CLS (Cumulative Layout Shift): < 0.1
```

---

## 3. 비기능 요구사항

### 3.1 성능
- 페이지 로드: 3초 이내
- AI 분석 응답: 5초 이내
- 실시간 동기화: 1초 이내
- OCR 처리: 10초 이내

### 3.2 보안
- HTTPS 필수
- 개인정보 암호화 (AES-256)
- 로그인 세션: JWT (1시간)
- 2FA 인증 (선택)

### 3.3 접근성
- WCAG 2.1 Level AA 준수
- 키보드 네비게이션 지원
- 스크린 리더 호환

### 3.4 브라우저 지원
- Chrome 90+
- Safari 14+
- Firefox 88+
- Edge 90+

---

## 4. 사용자 플로우

### 4.1 신규 사용자
```
회원가입 → 대시보드 → 기본정보 입력 안내 → 
Admin 페이지 → 급여 입력 → 계산기 확인 → 
AI 분석 확인 → 절세 팁 적용
```

### 4.2 기존 사용자
```
로그인 → 대시보드 → 변경사항 알림 확인 → 
Admin 페이지 → 월간 데이터 업데이트 → 
결과 확인 → PDF 다운로드
```

---

## 5. 성공 지표 (KPI)

| 지표 | 목표 | 측정 방법 |
|-----|------|---------|
| 회원가입률 | 방문자의 30% | GA4 |
| 월 활성 사용자 (MAU) | 10,000명 | DB |
| AI 분석 만족도 | 4.5/5.0 | 설문 |
| 평균 환급액 증가 | +15% | 사용자 리포트 |
| 모바일 비율 | 60% | GA4 |

---

## 6. 릴리스 계획

### Phase 1 (MVP - 4주)
- [ ] 계산기 핵심 기능
- [ ] 관리자 텍스트 입력
- [ ] 기본 AI 분석
- [ ] 데스크톱 UI

### Phase 2 (8주)
- [ ] OCR 기능
- [ ] 엑셀 업로드
- [ ] 세법 변경 크롤링
- [ ] 모바일 최적화

### Phase 3 (12주)
- [ ] 카드사 API 연동
- [ ] 고도화된 AI 분석
- [ ] 다국어 지원
- [ ] PDF 리포트

---

## 7. 리스크 및 제약사항

| 리스크 | 영향 | 완화 방안 |
|-------|------|---------|
| OCR 정확도 낮음 | High | Google Vision API + 수동 확인 |
| 세법 변경 감지 실패 | Medium | 수동 모니터링 병행 |
| AI API 비용 | Medium | 캐싱, 배치 처리 |
| 카드사 API 불안정 | Low | 수동 입력 대안 제공 |

---

## 8. 참고 자료
- 한국납세자연맹 계산기: https://www.koreatax.org
- 국세청 연말정산: https://www.nts.go.kr
- 소득세법: 법제처